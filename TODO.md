# Project TODO

- [x] Wire up the main-menu "Load" item so selecting it lists existing saves for the active commander and boots the chosen campaign. *(Notes: load dialog now passes the chosen save into the campaign launcher hook that resume uses, and menu alerts surface missing files.)*
- [x] Wire up the main-menu "Settings" item with a configuration dialog (UI scale, combat speed, lore panel anchor, etc.) that persists changes via the existing profile preference helpers. *(Notes: reuse `save_profile_preferences`/`apply_profile_preferences` once the dialog captures adjustments.)*
- [x] Persist the active profile's window preferences when the player exits the menu so window size changes survive restarts. *(Notes: handled by calling `save_profile_preferences` from `main.cpp` before shutting down SDL.)*
- [x] After creating a new quicksave, transition directly into the campaign (or prompt to do so) instead of dropping back to the menu idle state. *(Notes: new quicksaves now surface their file path back to the menu so the launch guard can immediately boot the campaign or report issues.)*
- [x] Expose a tooltip or short description for each menu item to clarify what will happen when selected. *(Notes: implemented by attaching descriptions to `ft_menu_item` entries and rendering them beneath the menu viewport.)*
- [x] Add a disabled-state style so menu entries relying on incomplete features render distinctly from interactive options. *(Notes: menu items now track hover state even when disabled so the renderer can gray them out while leaving activation blocked.)*
- [x] Audit save-system error paths and surface a non-blocking alert on the main menu when deserialization fails. *(Notes: non-blocking alert banner now appears when metadata parsing fails during save audits, with room to integrate `save_system_load_game` errors later.)*
- [x] Offer a "Resume last campaign" quick entry point that loads the most recent save without opening the load dialog. *(Notes: relies on the save audit above to know which snapshot is both latest and healthy before bootstrapping.)*
- [x] Allow remapping hotkeys from the menu so fleet controls can be tailored before entering combat. *(Notes: requires expanding the profile preference schema and persisting bindings alongside window/UI data.)*
- [x] Add an accessibility preset toggle (high-contrast UI, larger fonts) to the settings dialog. *(Notes: settings now expose a toggle that persists to profiles, applies enlarged fonts, and switches the main menu palette through `apply_profile_preferences`.)*
- [x] Display backend connectivity status in a corner of the menu to indicate whether leaderboards and convoys can sync. *(Notes: reuse `backend_client_ping` and existing banner widget once save errors are surfaced.)*
- [x] Surface a changelog button that opens the latest patch notes fetched via the backend client. *(Notes: blocked on the connectivity indicator so we do not prompt players to open notes when offline.)*
- [x] Show a confirmation prompt before deleting any save from the load dialog. *(Notes: depends on the load dialog wiring so we can reuse its list view and delete hooks.)*
- [x] Add volume sliders for music and effects to the settings dialog. *(Notes: hinges on the settings wiring and on exposing `audio_mixer_set_channel_volume` for UI bindings.)*
- [x] Persist the last-used input device (keyboard/gamepad) so the menu defaults to the player's preference. *(Notes: requires saving a new flag alongside hotkey bindings once remapping lands.)*
- [x] Offer quick tutorial tips on first launch that highlight menu actions. *(Notes: overlay now guides first-time commanders and persists dismissal per profile.)*
- [x] Preload commander portraits when showing the resume quick entry so the menu doesn't hitch. *(Notes: resume quick entry now preloads commander portraits via the shared cache so textures are ready when the menu highlights the quick-launch option.)*
- [x] Log backend ping failures to `test_failures.log` with timestamps for QA follow-up. *(Notes: extends the connectivity indicator task to append entries via the failure log helpers.)*
- [x] Add a save-slot rename affordance inside the load dialog for better organization. *(Notes: rename prompt now uses the load dialog list, accepts alphanumeric names up to 24 characters, and refreshes the listing after renaming.)*
- [x] Surface slot metadata (campaign day, commander level) alongside each save listing. *(Notes: depends on the save audit work so the metadata payload is already parsed when rendering rows.)*
- [x] Include a "clear cloud data" action that wipes backend-linked progress after confirmation. *(Notes: accessible from the main menu with an online-only confirmation overlay that calls the backend wipe endpoint and surfaces success/failure alerts.)*
- [x] Persist per-slot difficulty modifiers and show them in both resume and load flows. *(Notes: hinges on the save metadata surfacing task and on extending the save schema.)*
- [x] Add keyboard/gamepad navigation hints at the bottom of the menu. *(Notes: hints now reference the focused entry with controller/keyboard prompts and fall back to guidance when a feature is disabled.)*
- [x] Localize menu strings and tooltips using the existing string table loader. *(Notes: depends on capturing all menu text in a central catalog once tooltips are wired.)*
- [x] Provide a colorblind-safe palette toggle in accessibility settings. *(Notes: toggle adds a teal/gold palette for menus, persists per profile, and re-skins both settings and main menu renderers.)*
- [x] Expose master brightness and contrast controls within settings. *(Notes: settings now offer brightness and contrast sliders that persist per profile and adjust menu palettes.)*
- [x] Allow rebinding of controller layouts separately from keyboard bindings. *(Notes: extends the hotkey remap task after input device persistence is in place.)*
- [x] Add an autosave indicator icon when background saves are running. *(Notes: menu now polls background save events, shows in-progress/success/failure states, and falls back to idle after displaying results.)*
- [x] Implement a "sync status" panel that details latest backend convoy and leaderboard updates. *(Notes: main menu now renders a palette-aware sync card that tracks convoy and leaderboard results using connectivity timestamps and ping logging.)*
- [x] Surface achievements progress on the menu with quick summaries. *(Notes: achievements panel now displays completion totals, spotlight highlights, and progress notes pulled from profile preferences.)*
- [x] Provide a quick link to the in-game encyclopedia/manual from the menu. *(Notes: blocked on tooltip descriptions so the link communicates context.)*
- [x] Add a tutorial replay option that replays onboarding missions from the menu. *(Notes: menu now seeds a dedicated tutorial replay slot, launches it directly, and skips it from normal resume/load listings.)*
- [x] Gate experimental features behind a toggle inside settings. *(Notes: requires settings dialog completion and the ability to persist feature flags via profile preferences.)*
- [x] Offer analytics opt-in/out controls and persist the choice. *(Notes: leverages the settings dialog once feature flag persistence exists.)*
- [x] Display build version and branch information somewhere on the menu screen. *(Notes: rendered via build-info helper; update during localization pass so strings route through the translation catalog.)*
- [x] Hook up crash-report submission prompts that appear after a failure is detected. *(Notes: requires backend connectivity and failure logging to know when to present the prompt.)*
- [x] Add a minimal performance overlay that shows FPS and latency while the menu is open. *(Notes: overlay now tracks averaged frame rates and backend latency to populate a persistent top-right panel.)*
- [x] Ensure menu audio cues respect the global mute flag and newly added volume sliders. *(Notes: blocked on volume slider work and audio mixer exposure.)*
- [x] Expand save-system tests to cover corrupt snapshot recovery paths. *(Notes: hinges on error alert work to expose structured failure codes.)*
- [x] Add integration tests that exercise new menu flows (load, resume, accessibility toggles). *(Notes: regression coverage now ties load listings, quick-resume formatting, and accessibility preference persistence together.)*
- [x] Update `test_failures.log` format to include build identifiers for backend issues. *(Notes: backend ping logging now annotates failures with the active build label resolved via the build-info helper.)*
